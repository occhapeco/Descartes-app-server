<div data-page="addendereco" class="page navbar-fixed">
  <div class="navbar">
    <div class="navbar-inner">
      <div class="left">
        <a href="#" class="link icon-only open-panel" id="bc"> <i class="icon icon-bars"></i></a>
        <div id="hd">
          DescartesLab
        </div>
      </div>
    </div>
  </div>
  <div class="page-content">
  <!--<div>
    <span class="progressbar-infinite "></span>
  </div>-->
 <div class="list-block">
  <ul>

  <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Nome do endereço</div>
          <div class="item-input">
            <input type="text" id="nome" placeholder="Nome do endereco">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Rua</div>
          <div class="item-input">
            <input type="text" id="rua" placeholder="Rua">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Número</div>
          <div class="item-input">
            <input type="text" id="numero" placeholder="Número">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Complemento</div>
          <div class="item-input">
            <input type="text" id="complemento" placeholder="Complemento">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">CEP</div>
          <div class="item-input">
            <input type="text" id="cep" placeholder="CEP">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Bairro</div>
          <div class="item-input">
            <input type="text" id="bairro" placeholder="Bairro">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Estado</div>
          <div class="item-input">
            <input type="text" id="estado" placeholder="Estado">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">Cidade</div>
          <div class="item-input">
            <input type="text" id="cidade" placeholder="Cidade">
          </div>
        </div>
      </div>
    </li>

    <li>
      <div class="item-content">
        <div class="item-media"><i class="fa fa-lock"></i></div>
        <div class="item-inner">
          <div class="item-title label">País</div>
          <div class="item-input">
            <input type="text" id="pais" placeholder="País">
          </div>
        </div>
      </div>
    </li>
    
  </ul>

  <p class="buttons-row">
      <a onclick="adicionar_endereco();" style="width:90%;margin-left:5%;" class="button button-raised button-fill color-green">Salvar</a>
  </p>
  <p class="buttons-row">
      <a href="#" style="width:90%;margin-left:5%;" class="button button-raised button-fill color-red back">Cancelar</a>
  </p>

  </div>
</div>

<script type="text/javascript">
function adicionar_endereco()
{
  myApp.showPreloader();
  setTimeout(function () {
    var json_dados = ajax_method(false,'endereco.insert',document.getElementById("rua").value,document.getElementById("numero").value,document.getElementById("complemento").value,document.getElementById("cep").value,document.getElementById("bairro").value,document.getElementById("uf").value,document.getElementById("cidade").value,document.getElementById("pais").value,0,0);
    console.log(json_dados);
    var retorno = JSON.parse(json_dados);
    if(retorno != 0)
    {
      json_dados = ajax_method(false,'usuario_has_endereco.insert',localStorage.getItem("login_id"),retorno,document.getElementById("nome").value);
      console.log(json_dados);
      var retorno_id = JSON.parse(json_dados);
      if(retorno_id != 0)
      {
        myApp.alert("Endereço criado com sucesso.");
      }
      else
      {
        json_dados = ajax_method(false,'endereco.delete',retorno);
        myApp.alert("Seu endereco não pode ser criado, reveja suas informações ou sua conexão por favor.");
      }
    }
    else
      myApp.alert("Seu endereco não pode ser criado, reveja suas informações ou sua conexão por favor.");
  myApp.hidePreloader();
  },100);

  mainView.router.loadPage('enderecos.html');
}
</script>